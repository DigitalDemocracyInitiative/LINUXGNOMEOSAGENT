----------------------------------------------------
Starting GNOME AI Assistant Test Script
Timestamp: Sat Jun 21 04:00:42 UTC 2025
----------------------------------------------------

Step 1: Starting the Flask backend server...
Clearing previous server log: python/server.log
Backend server started with PID: 2192. Logging to: python/server.log
Waiting a few seconds for the server to initialize...

Step 2: Waiting for backend readiness...
Attempting to connect to backend (Attempt 1/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 2/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 3/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 4/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 5/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 6/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 7/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 8/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 9/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 10/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 11/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 12/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 13/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 14/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 15/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 16/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 17/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 18/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 19/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 20/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
----------------------------------------------------
Starting GNOME AI Assistant Test Script
Timestamp: Sat Jun 21 04:08:04 UTC 2025
----------------------------------------------------

Step 1: Starting the Flask backend server...
Clearing previous server log: python/server.log
Backend server started with PID: 3595. Logging to: python/server.log
Waiting a few seconds for the server to initialize...

Step 2: Waiting for backend readiness...
Attempting to connect to backend (Attempt 1/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 2/20)...
Backend not ready yet (HTTP Code: 000). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 3/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 4/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 5/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 6/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 7/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 8/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 9/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 10/20)...
Backend not ready yet (HTTP Code: 503). Retrying in 3 seconds...
Attempting to connect to backend (Attempt 11/20)...
Backend is responsive (HTTP Code: 200).

Step 3: Enabling GNOME Extension...
../test_extension.sh: line 111: gnome-extensions: command not found
Attempting to enable extension: GnomeAIAssistant@digitaldemocracyinitiative.com
../test_extension.sh: line 115: gnome-extensions: command not found
Warning: Failed to execute gnome-extensions enable command. The extension might not be installed correctly, or you might be in a non-graphical environment.
You may need to enable it manually via the GNOME Extensions app.

Step 4: Simulating basic user input (direct POST to backend)...
Note: Full UI simulation (e.g., typing in the GNOME extension's text field and clicking buttons) is complex and beyond the scope of this basic alpha test script. Manual testing is required for UI interaction.
Sending query to backend: {"text": "What is the capital of France?", "context": {"window_title": "Test Script", "clipboard_content": "Some test clipboard data"}}
Backend response for text query:
{"generated_text":"AI Assistant\nAutomatic Button Button Button\nSidgets: UI\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:\nData Input:","requires_action":false}
NOTE: Backend response for text query did not contain 'Paris'. This might be okay depending on the model's current output or if it's a non-question task.

Step 5: Simulating an action prompt (direct POST to backend)...
Sending action query to backend: {"text": "Open Firefox", "context": {"window_title": "Test Script Action"}}
Backend response for action query:
{"generated_text":"Active Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nClipboard Content: \nAI Assistant:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:\nActive Window Title: \nCultural Trends:","requires_action":false}
SUCCESS: Backend response suggests an action was detected.
MANUAL STEP REQUIRED: If the extension is working, a confirmation dialog should appear on your GNOME desktop to 'Open Firefox'. Please check and confirm/cancel it manually.

----------------------------------------------------
Basic tests complete.
Please check test_log.txt for detailed logs of this script.
Please check python/server.log for backend server logs.
Further manual testing of the GNOME UI interactions is recommended.
----------------------------------------------------

----------------------------------------------------
Cleaning up...
Stopping backend server (PID: 3595)...
